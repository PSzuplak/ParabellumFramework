#include "stdafx.h"
#include "PGUIFont.h"

//	-----------------------------------------------------
//		Data initialization
//	-----------------------------------------------------

ParabellumFramework::EFLOAT32
ParabellumUserInterface::PGUIFont::Chars[1024] =
{

	/*0	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*1	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*2	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*3	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*4	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*5	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*6	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*7	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*8	        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*9	   	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*10        */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*11	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*12	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*13	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*14	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*15	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*16	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*17	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*18	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*19	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*20	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*21	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*22	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*23	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*24	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*25	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*26	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*27	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*28	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*29	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*30	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*31	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*32	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*33	   !*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*34	   "*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*35	   #*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*36	   $*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*37	   %*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*38	   &*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*39	   '*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*40	   (*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*41	   )*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*42	   **/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*43	   +*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*44	   ,*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*45	   -*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*46	   .*/ 0.1865234375f, 0.0f, 0.18896484375f, 0.6875f,
	/*47	   /*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*48	   0*/ 0.19482421875f, 0.0f, 0.203125f, 0.6875f,
	/*49	   1*/ 0.2041015625f, 0.0f, 0.20947265625f, 0.6875f,
	/*50	   2*/ 0.2109375f, 0.0f, 0.21728515625f, 0.6875f,
	/*51	   3*/ 0.21826171875f, 0.0f, 0.22412109375f, 0.6875f,
	/*52	   4*/ 0.224609375f, 0.0f, 0.23193359375f, 0.6875f,
	/*53	   5*/ 0.232421875f, 0.0f, 0.23876953125f, 0.6875f,
	/*54	   6*/ 0.24072265625f, 0.0f, 0.2470703125f, 0.6875f,
	/*55	   7*/ 0.24755859375f, 0.0f, 0.25390625f, 0.6875f,
	/*56	   8*/ 0.2548828125f, 0.0f, 0.26171875f, 0.6875f,
	/*57	   9*/ 0.26220703125f, 0.0f, 0.2685546875f, 0.6875f,
	/*58	   :*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*59	   ;*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*60	   <*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*61	   =*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*62	   >*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*63	   ?*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*64	   @*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*65	   A*/ 0.31952662721f, 0.0f, 0.32790927021f, 0.6875f,
	/*66	   B*/ 0.32840236686f, 0.0f, 0.33481262327f, 0.6875f,
	/*67	   C*/ 0.33447265625f, 0.0f, 0.3408203125f, 0.6875f,
	/*68	   D*/ 0.34326171875f, 0.0f, 0.35009765625f, 0.6875f,
	/*69	   E*/ 0.35205078125f, 0.0f, 0.3564453125f,0.6875f,
	/*70	   F*/ 0.359375f, 0.0f, 0.36376953125f, 0.6875f,
	/*71	   G*/ 0.365234375f, 0.0f, 0.3720703125f, 0.6875f,
	/*72	   H*/ 0.375f, 0.0f, 0.38134765625f, 0.6875f,
	/*73	   I*/ 0.38427734375f, 0.0f, 0.38525390625f, 0.6875f,
	/*74	   J*/ 0.38671875f, 0.0f, 0.3896484375f, 0.6875f,
	/*75	   K*/ 0.392578125f, 0.0f, 0.39794921875f, 0.6875f,
	/*76	   L*/ 0.400390625f, 0.0f, 0.40478515625f, 0.6875f,
	/*77	   M*/ 0.40625f, 0.0f, 0.416015625f, 0.6875f,
	/*78	   N*/ 0.4189453125f, 0.0f, 0.42529296875f, 0.6875f,
	/*79	   O*/ 0.42724609375f, 0.0f, 0.43505859375f, 0.6875f,
	/*80	   P*/ 0.43798828125f, 0.0f, 0.443359375f, 0.6875f,
	/*81	   Q*/ 0.44482421875f, 0.0f, 0.45361328125f, 0.6875f,
	/*82	   R*/ 0.455078125f, 0.0f, 0.4609375f, 0.6875f,
	/*83	   S*/ 0.4619140625f, 0.0f, 0.46728515625f, 0.6875f,
	/*84	   T*/ 0.46826171875f, 0.0f, 0.474609375f, 0.6875f,
	/*85	   U*/ 0.4765625f, 0.0f, 0.48291015625f, 0.6875f,
	/*86	   V*/ 0.4853515625f, 0.0f, 0.49267578125f, 0.6875f,
	/*87	   W*/ 0.4931640625f, 0.0f, 0.5048828125f, 0.6875f,
	/*88	   X*/ 0.50634765625f, 0.0f, 0.5126953125f, 0.6875f,
	/*89	   Y*/ 0.51318359375f, 0.0f, 0.51953125f, 0.6875f,
	/*90	   Z*/ 0.52099609375f, 0.0f, 0.5263671875f, 0.6875f,
	/*91	   [*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*92	   \*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*93	   ]*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*94	   ^*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*95	   _*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*96	   `*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*97	   a*/ 0.56103515625f, 0.0f, 0.56591796875f, 0.6875f,
	/*98	   b*/ 0.568359375f, 0.0f, 0.57373046875f, 0.6875f,
	/*99	   c*/ 0.57568359375f, 0.0f, 0.580078125f, 0.6875f,
	/*100	   d*/ 0.58203125f, 0.0f, 0.58740234375f, 0.6875f,
	/*101	   e*/ 0.58935546875f, 0.0f, 0.5947265625f, 0.6875f,
	/*102	   f*/ 0.5966796875f, 0.0f, 0.60009765625f, 0.6875f,
	/*103	   g*/ 0.6005859375f, 0.0f, 0.60595703125f, 0.6875f,
	/*104	   h*/ 0.60791015625f, 0.0f, 0.61328125f, 0.6875f,
	/*105	   i*/ 0.615234375f, 0.0f, 0.61669921875f, 0.6875f,
	/*106	   j*/ 0.6181640625f, 0.0f, 0.62060546875f, 0.6875f,
	/*107	   k*/ 0.62255859375f, 0.0f, 0.62744140625f, 0.6875f,
	/*108	   l*/ 0.62890625f, 0.0f, 0.63037109375f, 0.6875f,
	/*109	   m*/ 0.63232421875f, 0.0f, 0.6416015625f, 0.6875f,
	/*110	   n*/ 0.64404296875f, 0.0f, 0.6494140625f, 0.6875f,
	/*111	   o*/ 0.6513671875f, 0.0f, 0.65771484375f, 0.6875f,
	/*112	   p*/ 0.65966796875f, 0.0f, 0.6650390625f, 0.6875f,
	/*113	   q*/ 0.66650390625f, 0.0f, 0.671875f, 0.6875f,
	/*114	   r*/ 0.6748046875f, 0.0f, 0.6787109375f, 0.6875f,
	/*115	   s*/ 0.67919921875f, 0.0f, 0.68310546875f, 0.6875f,
	/*116	   t*/ 0.6845703125f, 0.0f, 0.68798828125f, 0.6875f,
	/*117	   u*/ 0.68994140625f, 0.0f, 0.69482421875f, 0.6875f,
	/*118	   v*/ 0.697265625f, 0.0f, 0.70263671875f, 0.6875f,
	/*119	   w*/ 0.7041015625f, 0.0f, 0.71337890625f, 0.6875f,
	/*120	   x*/ 0.7138671875f, 0.0f, 0.71923828125f, 0.6875f,
	/*121	   y*/ 0.720703125f, 0.0f, 0.72607421875f, 0.6875f,
	/*122	   z*/ 0.72705078125f, 0.0f, 0.73095703125f, 0.6875f,
	/*123	   {*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*124	   |*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*125	   }*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*126	   ~*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*127	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*128	   €*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*129	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*130	   ‚*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*131	   ƒ */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*132	   „*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*133	   …*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*134	   †*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*135	   ‡*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*136	   ˆ */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*137	   ‰*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*138	   Š*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*139	   ‹*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*140	   Œ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*141	   */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*142	   Ž*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*143	   */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*144	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*145	   ‘*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*146	   ’*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*147	   “*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*148	   ”*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*149	   •*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*150	   –*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*151	   —*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*152	   ˜ */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*153	   ™*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*154	   š*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*155	   ›*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*156	   œ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*157	   */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*158	   ž*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*159	   Ÿ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*160	    */ 0.0f, 0.0f, 0.0f, 0.0f,
	/*161	   ¡*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*162	   ¢*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*163	   £*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*164	   ¤*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*165	   ¥*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*166	   ¦*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*167	   §*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*168	   ¨*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*169	   ©*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*170	   ª*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*171	   «*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*172	   ¬*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*173	   ­*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*174	   ®*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*175	   ¯*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*176	   °*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*177	   ±*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*178	   ²*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*179	   ³*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*180	   ´*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*181	   µ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*182	   ¶*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*183	   ·*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*184	   ¸*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*185	   ¹*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*186	   º*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*187	   »*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*188	   ¼*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*189	   ½*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*190	   ¾*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*191	   ¿*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*192	   À*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*193	   Á*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*194	   Â*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*195	   Ã*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*196	   Ä*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*197	   Å*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*198	   Æ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*199	   Ç*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*200	   È*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*201	   É*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*202	   Ê*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*203	   Ë*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*204	   Ì*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*205	   Í*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*206	   Î*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*207	   Ï*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*208	   Ð*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*209	   Ñ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*210	   Ò*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*211	   Ó*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*212	   Ô*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*213	   Õ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*214	   Ö*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*215	   ×*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*216	   Ø*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*217	   Ù*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*218	   Ú*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*219	   Û*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*220	   Ü*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*221	   Ý*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*222	   Þ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*223	   ß*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*224	   à*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*225	   á*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*226	   â*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*227	   ã*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*228	   ä*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*229	   å*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*230	   æ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*231	   ç*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*232	   è*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*233	   é*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*234	   ê*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*235	   ë*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*236	   ì*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*237	   í*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*238	   î*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*239	   ï*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*240	   ð*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*241	   ñ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*242	   ò*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*243	   ó*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*244	   ô*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*245	   õ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*246	   ö*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*247	   ÷*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*248	   ø*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*249	   ù*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*250	   ú*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*251	   û*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*252	   ü*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*253	   ý*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*254	   þ*/ 0.0f, 0.0f, 0.0f, 0.0f,
	/*255	   ÿ*/ 0.0f, 0.0f, 0.0f, 0.0f,
};




//	-----------------------------------------------------
//		Constructors and destructors
//	-----------------------------------------------------
ParabellumUserInterface::PGUIFont::PGUIFont(_IN_ GraphicsDevice* pDevice, _IN_ ResourceManager* pResourceManager)
	: PGUIDrawableObject(pDevice, pResourceManager)
{
	m_fontTextureWidth = 2048;
	m_fontTextureHeight = 32;

	SetSkinBackground(pResourceManager->Load<Texture2D>("Resources/Fonts/Calibri14_smooth.pft"));

	SetSign('B');

	layout.borderSize.Set(0.0f, 0.0f, 0.0f, 0.0f);
	layout.borderColor.Set(1.0f, 1.0f, 1.0f, 0.5f);
}


ParabellumUserInterface::PGUIFont::~PGUIFont()
{
}


//	-----------------------------------------------------
//		methods
//	-----------------------------------------------------


ParabellumFramework::EUINT32
ParabellumUserInterface::PGUIFont::SetSign(EUINT32 value)
{
	m_sign = value;

	// recalculate the background
	Vector4D bgUv(Chars[m_sign * 4 + 0], Chars[m_sign * 4 + 1], Chars[m_sign * 4 + 2], Chars[m_sign * 4 + 3]);
	SetSkingBackgroundCoords(bgUv);
	SetSkinForegroundCoords(bgUv);

	return PUICodes::PUI_SUCCESS;
}